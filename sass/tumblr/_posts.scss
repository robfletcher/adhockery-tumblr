// turn a list into a comma separated selector - https://gist.github.com/metaskills/3170386
$post-types: photo, photoset, link, audio, video, question, quote, conversation;
$post-type-selectors: ();
@each $type in $post-types {
	$post-type-selectors: append($post-type-selectors, unquote('.#{$type}'), comma);
}

.post {
	overflow: hidden; // force the article to contain the margins of its content http://reference.sitepoint.com/css/collapsingmargins
	margin-top: $large-gutter;
	margin-bottom: $large-gutter;
	padding: 0 1em;

	@include googie($article-background);

	&:first-child {
		margin-top: 0;
	}

	&:last-of-type {
		margin-bottom: 0;
		border-bottom: 0;
	}

	#{$post-type-selectors} {
		&:first-child {
			margin-top: 1em;
		}
	}

	footer:last-child {
		margin-bottom: 1em;
	}
}

.photo {
	background-color: white;
	padding: 1em;
	@include box-shadow(0 0 4px $divider-color);
	@include border-radius(2px);
	@include transform(rotate(-1deg));
	@include backface-visibility(hidden);

	img {
		max-width: 100%;
	}

	figcaption {
		margin-top: 1em;

		p:last-child {
			margin-bottom: 0; // taken care of by padding on figure
		}
	}
}
